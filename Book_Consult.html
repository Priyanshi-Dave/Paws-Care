<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Book Consultation | Paws-Care</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
  background:#0b1f3a;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Segoe UI, sans-serif;
}

.container-box {
  background:#ffffff;
  border-radius:20px;
  padding:30px;
  max-width:500px;
  width:100%;
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
}

.step-indicator {
  display:flex;
  justify-content:space-between;
  margin-bottom:25px;
}

.step-circle {
  width:40px;
  height:40px;
  border-radius:50%;
  background:#ddd;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:600;
}

.step-active {
  background:#ffc107;
}

.step-title {
  font-weight:700;
  margin-bottom:15px;
}

.hidden {
  display:none;
}
</style>
</head>

<body>

<div class="container-box">

  <!-- STEP INDICATOR -->
  <div class="step-indicator">
    <div id="circle1" class="step-circle step-active">1</div>
    <div id="circle2" class="step-circle">2</div>
    <div id="circle3" class="step-circle">3</div>
  </div>

  <!-- STEP 1 -->
  <div id="step1">
    <div class="step-title">Choose a Service</div>

    <select id="service" class="form-select mb-3" required>
      <option value="">Select Service</option>
      <option>Emergency First Aid</option>
      <option>General Consultation</option>
      <option>Toxic Food Advice</option>
      <option>Injury Check</option>
    </select>

    <button class="btn btn-warning w-100" onclick="nextStep(1)">Next</button>
  </div>

  <!-- STEP 2 -->
  <div id="step2" class="hidden">
    <div class="step-title">Pick a Date & Time</div>

    <input type="date" id="date" class="form-control mb-3" required>
    <input type="time" id="time" class="form-control mb-3" required>

    <div class="d-flex gap-2">
      <button class="btn btn-secondary w-50" onclick="prevStep(2)">Back</button>
      <button class="btn btn-warning w-50" onclick="nextStep(2)">Next</button>
    </div>
  </div>

  <!-- STEP 3 -->
  <div id="step3" class="hidden">
    <div class="step-title">Your Location & Confirm</div>

    <textarea id="address" class="form-control mb-3" rows="3"
      placeholder="Enter your location / address" required></textarea>

    <button class="btn btn-success w-100" onclick="submitBooking()">
      Confirm Booking
    </button>
  </div>

</div>

<script>
function nextStep(step) {
  if (step === 1 && !document.getElementById("service").value) {
    alert("Please select a service");
    return;
  }

  if (step === 2 &&
     (!document.getElementById("date").value ||
      !document.getElementById("time").value)) {
    alert("Please select date and time");
    return;
  }

  document.getElementById(`step${step}`).classList.add("hidden");
  document.getElementById(`step${step+1}`).classList.remove("hidden");

  document.getElementById(`circle${step}`).classList.remove("step-active");
  document.getElementById(`circle${step+1}`).classList.add("step-active");
}

function prevStep(step) {
  document.getElementById(`step${step}`).classList.add("hidden");
  document.getElementById(`step${step-1}`).classList.remove("hidden");

  document.getElementById(`circle${step}`).classList.remove("step-active");
  document.getElementById(`circle${step-1}`).classList.add("step-active");
}

function submitBooking() {
  const bookingData = {
    service: document.getElementById("service").value,
    date: document.getElementById("date").value,
    time: document.getElementById("time").value,
    address: document.getElementById("address").value
  };

  if (!bookingData.address) {
    alert("Please enter your address");
    return;
  }

  // TEMP: store locally for testing
  localStorage.setItem("booking", JSON.stringify(bookingData));

  alert("Consultation booked successfully!");
  window.location.href = "index.html";
}
</script>

</body>
</html>